<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CivicFix — Crowdsourced Civic Issue Reporting</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <link rel="stylesheet" href="style.css">
</head>

<body>
  <header class="site-header">
    <div class="header-inner container">
      <div class="brand">
        <svg width="40" height="40" viewBox="0 0 24 24"><path fill="#0b75ef" d="M3 13h4v8H3zM9 3h4v18H9zM15 8h4v13h-4z"/></svg>
        <div>
          <h1>CivicFix</h1>
          <small>Crowdsourced Civic Issue Reporting</small>
        </div>
      </div>
      <nav class="nav">
        <a href="report.html">View Reports</a>
        <a href="#features">Features</a>
        <a href="#map">Map</a>
        <a href="#team">Team</a>
        <a class="cta" href="#report">Report</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- MAP -->
    <section id="map" class="section map-section" style="margin-top:40px">
      <div class="container map-wrap" id="container_map_warp">
        <div class="map-left">
          <h3 id="report">Live Issue Map (Gwalior)</h3>
          <div id="mapid"></div>
          <p class="muted" style="margin-top:10px">Red pins = pending, Green pins = resolved</p>
        </div>

        <aside class="map-right">
          <h4>Report an Issue</h4>
          <form id="report-form" onsubmit="event.preventDefault(); submitIssue();">
            <label>Issue Type</label>
            <select id="issueType">
              <option>Pothole</option>
              <option>Garbage</option>
              <option>Broken Pipeline</option>
              <option>Street Light</option>
              <option>Dead Animal</option>
              <option>Others</option>
            </select>

            <label>Description</label>
            <textarea id="desc" rows="3" placeholder="Describe the issue..."></textarea>

            <label>Upload image (optional)</label>
            <input id="imgfile" type="file" accept="image/*">

            <div style="display:flex;gap:10px;margin-top:12px;">
              <button class="btn primary" id="submitbtn" type="submit">Upload Image</button>
              <button class="btn" type="button" onclick="useMyLocation()">Use My Location</button>
            </div>
          </form>

          <h4 style="margin-top:24px">Reported Issues</h4>
          <div id="issues-list" class="issues-list"></div>
        </aside>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" class="section">
      <div class="container">
        <h3>About the Project</h3>
        <p>CivicFix brings citizen complaints into one platform with geo-tagged posting, photos, and live status tracking.</p>

        <div class="two-col">
          <div class="card"><h4>Problem</h4><p>Fragmented complaint channels slow response and reduce civic transparency.</p></div>
          <div class="card"><h4>Solution</h4><p>Unified portal with accurate locations, prioritization, and structured resolution.</p></div>
        </div>
      </div>
    </section>

    <!-- FEATURES -->
    <section id="features" class="section alt">
      <div class="container">
        <h3>Key Features</h3>
        <div class="features-grid">
          <div class="feature"><h4>Geo-tagged Reporting</h4><p>Exact coordinates for each civic issue.</p></div>
          <div class="feature"><h4>Live Status</h4><p>Track issues until resolved.</p></div>
          <div class="feature"><h4>Gamified Engagement</h4><p>Earn points for civic contribution.</p></div>
          <div class="feature"><h4>Multi-channel Support</h4><p>Web, App, WhatsApp-ready.</p></div>
          <div class="feature"><h4>Authority Dashboard</h4><p>Filters, maps, and workflow tools.</p></div>
          <div class="feature"><h4>Offline Support</h4><p>Queue submissions until online.</p></div>
        </div>
      </div>
    </section>

    <!-- TEAM -->
    <section id="team" class="section alt">
      <div class="container">
        <h3>Team</h3>
        <p>We build tools to empower citizen participation and civic improvement.</p>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <small>CivicFix — Improving cities together</small>
    </div>
  </footer>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="index.js"></script>
</body>
</html>
